        -:    0:Source:test_service.c
        -:    0:Graph:./main.gcno
        -:    0:Data:-
        -:    0:Runs:0
        -:    1:#include "service.c"
        -:    2:#include <assert.h>
        -:    3:#include <stdio.h>
        -:    4:#include <math.h>
        -:    5:#include <stdio.h>
        -:    6:
    #####:    7:void test_createElem(){
        -:    8:	stoc medicament;
    #####:    9:	strcpy(medicament.med.name, "Bixtonim");
    #####:   10:	medicament.med.concentr = 20.01;
    #####:   11:	medicament.quantity = 1;
        -:   12:
    #####:   13:	char name[] = "Bixtonim"; 
    #####:   14:	stoc compare = createElem(name, 20.01); 
    #####:   15:	medicament.uniqueCode = compare.uniqueCode;
        -:   16:
    #####:   17:	assert(compareStocs(&medicament,&compare)==1);
        -:   18:
    #####:   19:}
        -:   20:
    #####:   21:void test_addElem(){
        -:   22:	farm pharmacy;
    #####:   23:	pharmacy.nrMeds = 0;
    #####:   24:	addElem(&pharmacy, "Bixtonim",20.01);
        -:   25:
    #####:   26:	assert(pharmacy.nrMeds == 1);
    #####:   27:	stoc test =  createElem("Bixtonim",20.01);
    #####:   28:	assert(compareStocs(&pharmacy.cont[0],&test)==1);
        -:   29:
    #####:   30:	addElem(&pharmacy, "Bixtonim", 20.01);
    #####:   31:	assert(pharmacy.cont[0].quantity==2);
        -:   32:
    #####:   33:}
        -:   34:
    #####:   35:void test_searchElem(){
        -:   36:	farm pharmacy;
    #####:   37:	pharmacy.nrMeds = 0;
    #####:   38:	addElem(&pharmacy, "Bixtonim",20.01);
    #####:   39:	addElem(&pharmacy, "Paracetamol",18.2);
    #####:   40:	addElem(&pharmacy, "Aspacartim",50);
        -:   41:	produs medic;
    #####:   42:	medic.concentr = 50;
    #####:   43:	strcpy(medic.name , "Aspacartim");
        -:   44:
    #####:   45:	assert(searchElem(&pharmacy,medic.name) == 2);
        -:   46:
    #####:   47:}
        -:   48:
    #####:   49:void test_modifElem(){
        -:   50:	farm pharmacy;
    #####:   51:	pharmacy.nrMeds = 0;
    #####:   52:	addElem(&pharmacy, "Bixtonim",20.01);
    #####:   53:	addElem(&pharmacy, "Paracetamol",18.2);
    #####:   54:	addElem(&pharmacy, "Aspacartim",50);
        -:   55:
    #####:   56:	modifElem(&pharmacy, "Aspacartim", "Theraflu", 0);
        -:   57:
    #####:   58:	assert(strcmp(pharmacy.cont[2].med.name, "Theraflu")==0);
        -:   59:
    #####:   60:	modifElem(&pharmacy, "Paracetamol", "", 25.07);
        -:   61:
    #####:   62:	assert(floor(pharmacy.cont[1].med.concentr*100) == 2507);
    #####:   63:}
        -:   64:
    #####:   65:void test_stergeStoc(){
        -:   66:	farm pharma;
    #####:   67:	pharma.nrMeds = 0;
    #####:   68:	addElem(&pharma, "Theraflu", 21.5);
    #####:   69:	addElem(&pharma, "Theraflu", 21.5);
    #####:   70:	addElem(&pharma, "Theraflu", 21.5);
    #####:   71:	addElem(&pharma, "Theraflu", 21.5);
        -:   72:
    #####:   73:	stergeStoc_s(&pharma, "Theraflu");
    #####:   74:	assert(pharma.nrMeds == 0);
    #####:   75:}
        -:   76:
    #####:   77:void test_ordonareProduse(){
        -:   78:	farm pharma;
    #####:   79:	pharma.nrMeds = 0;
    #####:   80:	addElem(&pharma, "Theraflu", 19.5);
    #####:   81:	addElem(&pharma, "Paracetamol", 44);
    #####:   82:	addElem(&pharma, "Paracetamol", 44);
    #####:   83:	addElem(&pharma, "Paracetamol", 44);
        -:   84:	
    #####:   85:	addElem(&pharma, "Gripovit", 65);
    #####:   86:	addElem(&pharma, "Gripovit", 65);
        -:   87:
    #####:   88:	addElem(&pharma, "Abrolen", 21.5);
    #####:   89:	addElem(&pharma, "Abrolen", 21.5);
    #####:   90:	addElem(&pharma, "Abrolen", 21.5);
        -:   91:
        -:   92:
    #####:   93:	farm aux = ordonareProduse(&pharma, "nume");
    #####:   94:	assert(strcmp(aux.cont[0].med.name, "Abrolen") == 0);
        -:   95:
    #####:   96:	aux = ordonareProduse(&pharma, "concentratie");
    #####:   97:	assert(strcmp(aux.cont[0].med.name, "Theraflu") == 0);
        -:   98:
    #####:   99:	aux = ordonareProduse(&pharma, "stoc");
    #####:  100:	assert(strcmp(aux.cont[0].med.name, "Theraflu") == 0);
        -:  101:
        -:  102:
        -:  103:
    #####:  104:}
        -:  105:
    #####:  106:void test_filtrareStoc(){
        -:  107:	farm pharma;
    #####:  108:	pharma.nrMeds = 0;
    #####:  109:	addElem(&pharma, "Theraflu", 19.5);
    #####:  110:	addElem(&pharma, "Paracetamol", 44);
    #####:  111:	addElem(&pharma, "Paracetamol", 44);
    #####:  112:	addElem(&pharma, "Paracetamol", 44);
        -:  113:	
    #####:  114:	addElem(&pharma, "Gripovit", 65);
    #####:  115:	addElem(&pharma, "Gripovit", 65);
        -:  116:
    #####:  117:	addElem(&pharma, "Abrolen", 21.5);
    #####:  118:	addElem(&pharma, "Abrolen", 21.5);
    #####:  119:	addElem(&pharma, "Abrolen", 21.5);
        -:  120:
    #####:  121:	farm aux = filtrareStoc(&pharma, 2);
    #####:  122:	assert(aux.nrMeds == 3);
        -:  123:
    #####:  124:	aux = filtrareNume(&pharma, 'A');
    #####:  125:	assert(aux.nrMeds == 1);
        -:  126:
    #####:  127:}
        -:  128:
    #####:  129:void run_tests(){
    #####:  130:	test_createElem();
    #####:  131:	test_addElem();
    #####:  132:	test_searchElem();
    #####:  133:	test_modifElem();
    #####:  134:	test_stergeStoc();
    #####:  135:	test_ordonareProduse();
    #####:  136:	test_filtrareStoc();
    #####:  137:}
